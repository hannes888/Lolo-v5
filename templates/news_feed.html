<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>News Feed</title>
    <!-- Add link to your CSS file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</head>
<body>
    <div id="top-bar">
        <h1>
            {{ big_title }}
        </h1>
    </div>
    <div id="main-content">
        <div id="sidepanel">
            <label>
                <input type="text" id="rounded-input" placeholder="Add news feed here...">
            </label>
            <div id="feed-titles">
                <table id="feed-table">
                    {% for feed in feeds %}
                        <tr>
                            <td>
                                <form id="feed-form" method="post" action="/view_feed" style="display: inline-block;">
                                    <input type="hidden" name="feed_title" value="{{ feed.title }}">
                                    <button type="submit" id="feed-button">{{ feed.title }}</button>
                                </form>
                                <div class="edit-delete-container" style="display: inline-block;">
                                    <!-- The Edit button -->
                                    <button type="button" class="edit-delete-buttons edit-button">
                                        <img src="{{ url_for('static', filename="icons8-edit-50.png") }}" alt="Edit" class="icon">
                                    </button>
                                    <!-- Separate form for the Delete button -->
                                    <form method="POST" action="{{ url_for('delete_feed') }}" style="display: inline-block;">
                                        <button type="submit" class="edit-delete-buttons delete-button">
                                            <img src="{{ url_for('static', filename='icons8-delete-50.png') }}" alt="Delete" class="icon">
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
        <div id="articles">
            {% for article in articles %}
                <div class="article {% if article.title == "" and article.summary == "" %}no-text
                        {% elif not article.media_content_url %}no-img{% endif %}">
                    <div class="article-content-wrapper">
                        {%  if article.category %}
                            <p class="category">{{ article.category.upper() }}</p>
                        {% endif %}
                        {% if article.media_content_url and article.title != "" %}
                            <div class="media">
                                <a href="{{ article.link }}">
                                    <img src="{{ article.media_content_url }}" alt="Media content">
                                </a>
                            </div>
                            <h2><a href="{{ article.link }}">{{ article.title }}</a></h2>
                        {% elif article.media_content_url and article.title == "" %}
                            <a href="{{ article.link }}">
                                <img src="{{ article.media_content_url }}" alt="Media content">
                            </a>
                        {% else %}
                            <h2><a href="{{ article.link }}">{{ article.title }}</a></h2>
                            <p>{{ article.summary }}</p>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
        <!-- The editing popup -->
        <div id="popup-edit-title">
            <div class="popup-content">
                <span class="close">&times;</span>
                <p>Edit your title:</p>
                <label for="title-input"></label><input type="text" id="title-input" name="title">
                <button type="button" >Save</button>
            </div>
        </div>
    </div>
</body>
</html>
